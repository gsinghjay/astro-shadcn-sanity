---
import type { PageBlock } from '@/lib/types';
import { allBlocks } from './block-registry';
import BlockWrapper from './BlockWrapper.astro';

interface Props {
  blocks: PageBlock[];
}

const { blocks } = Astro.props;
---

{blocks.map((block) => {
  const Component = allBlocks[block._type];
  if (!Component) return null;
  return <BlockWrapper backgroundVariant={block.backgroundVariant} spacing={block.spacing} maxWidth={block.maxWidth}><Component {...block} /></BlockWrapper>;
})}
