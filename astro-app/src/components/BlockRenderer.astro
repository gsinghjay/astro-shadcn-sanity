---
import type { PageBlock } from '@/lib/types';
import { allBlocks } from './block-registry';
import BlockWrapper from './blocks/BlockWrapper.astro';

interface Props {
  blocks: PageBlock[];
}

const { blocks } = Astro.props;
---

{blocks.map((block) => {
  const Component = allBlocks[(block as any)._type];
  if (!Component) return null;
  return <BlockWrapper backgroundVariant={(block as any).backgroundVariant} spacing={(block as any).spacing} maxWidth={(block as any).maxWidth}><Component {...(block as any)} /></BlockWrapper>;
})}
