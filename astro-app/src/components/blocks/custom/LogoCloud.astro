---
import type { LogoCloudBlock } from '@/lib/types';
import { Section } from '@/components/ui/section';

interface Props {
  block: LogoCloudBlock;
}

const { block } = Astro.props;
---

<Section size="sm" class="bg-muted border-y border-border" data-animate>
  {block.heading && (
    <div class="text-center">
      <span class="label-caps text-muted-foreground">{block.heading}</span>
    </div>
  )}

  <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-px bg-border">
    {block.sponsors?.map((sponsor) => {
      const logoUrl = sponsor.logo?.asset?.url;
      const content = (
        <div class="bg-muted p-6 flex items-center justify-center h-24 hover:bg-background transition-colors duration-200">
          {logoUrl ? (
            <img src={logoUrl} alt={sponsor.name} class="max-h-10 max-w-[120px] opacity-60 hover:opacity-100 transition-opacity" />
          ) : (
            <span class="text-sm font-bold text-muted-foreground text-center leading-tight tracking-tight">{sponsor.name}</span>
          )}
        </div>
      );

      return sponsor.website ? (
        <a href={sponsor.website} target="_blank" rel="noopener">
          {content}
        </a>
      ) : (
        content
      );
    })}
  </div>
</Section>
